# DVSOD-Baseline
This repository provides the source code of DVSOD baseline.

## Installation 

The code requires `python>=3.8`, as well as `pytorch>=1.11` and `torchvision>=0.12`. Please follow the instructions [here](https://pytorch.org/get-started/locally/) to install both PyTorch and TorchVision dependencies. Installing both PyTorch and TorchVision with CUDA support is strongly recommended.

1. **Clone this repo.**

   ```shell
   $ git clone https://github.com/DVSOD/DVSOD-Baseline.git
   $ cd DVSOD-Baseline-main
   ```

2. **Install dependencies.**

   ```shell
   $ conda env create -f dvsod.yaml
   $ conda activate dvsod
   ```

## Getting Started

First download the `DViSal` [dataset](https://github.com/DVSOD/DVSOD-DViSal). Then the model can be used in just a few adaptions to start training:

1. Set your DViSal dataset path and ckpt save path in `train.py`
2. Perform training, with ```python train.py```

Meanwhile, the saliency can be generated by loading [the model checkpoint](XXX), with:
1. Set your DViSal dataset path and ckpt save path in `test.py`
2. Specify the ckpt name and testset name in `test.py`
3. Perform inference, with ```python test.py```

Notes for parameters in ```demo.py```:
```
- set 'max_iteration' as **Number**         # e.g. 2000000, which means the maximum of iteration
- set ‘spshot’        as **Number**         # e.g. 20000, which means saving checkpoint every 20000 iterations
- set 'nclass'        as **Number**         # e.g. 2, which means binary tasks. i.e. model output
- set 'b_size'        as **Number**         # e.g. 2, whcih means batch size for training
- set 'sshow'         as **Number**         # e.g. 20, which means showing the training loss every 20 iterations
- set '--phase'       as **Train or Test**
- set '--param'       as **True or False**  # whether load checkpoint or not
- set '--dataset'     as **test_name**      # set test or val dataset
- set '--snap_num'    as **Number**         # e.g. 80000, load 80000th checkpoint
- set 'gpu_ids'       as **String**         # e.g. '0,1', which means running on 0 and 1 GPUs
- You need to set "train_data" and "test_data" path in demo.py
More details in demo.py
```

## 




